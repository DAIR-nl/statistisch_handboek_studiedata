---
title: "Gepaarde t-toets"
author: "Irene van der Staaij & Megiel Kerkhoven"
date: "1 Oktober 2019"
output: 
  html_document:
    toc: TRUE
    toc_float: TRUE
    theme: united
---
<style>
  .col2 {
    columns: 2 200px;         /* number of columns and width in pixels*/
    -webkit-columns: 2 200px; /* chrome, safari */
    -moz-columns: 2 200px;    /* firefox */
  }
</style>

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

```{r aanmaken data, include=FALSE, echo=TRUE}
set.seed(2)

mu <- 3.6
sigma <- 0.6
Evaluatie_score_geen_tutor <- rnorm(250, mu, sigma)

Evaluatie_score_geen_tutor <- Evaluatie_score_geen_tutor[Evaluatie_score_geen_tutor <= 5 
                                                         & Evaluatie_score_geen_tutor >= 1]
Evaluatie_score_geen_tutor <- sapply (Evaluatie_score_geen_tutor, round, 3)

mu <- 3.4
sigma <- 0.7
Evaluatie_score_wel_tutor <- rnorm(250, mu, sigma)

Evaluatie_score_wel_tutor <- Evaluatie_score_wel_tutor[Evaluatie_score_wel_tutor <= 5 
                                                       & Evaluatie_score_wel_tutor >= 1]
Evaluatie_score_wel_tutor <- sapply (Evaluatie_score_wel_tutor, round, 3)

mu <- 3.6
sigma <- 0.6
Evaluatie_score_geen_tutor_n30 <- rnorm(30, mu, sigma)

Evaluatie_score_geen_tutor_n30 <- Evaluatie_score_geen_tutor_n30[Evaluatie_score_geen_tutor_n30 <= 5 
                                                                 & Evaluatie_score_geen_tutor_n30 >= 1]
Evaluatie_score_geen_tutor_n30 <- sapply (Evaluatie_score_geen_tutor_n30, round, 3)

mu <- 3.4
sigma <- 0.7
Evaluatie_score_wel_tutor_n30 <- rnorm(30, mu, sigma)

Evaluatie_score_wel_tutor_n30 <- Evaluatie_score_wel_tutor_n30[Evaluatie_score_wel_tutor_n30 <= 5 
                                                               & Evaluatie_score_wel_tutor_n30 >= 1]
Evaluatie_score_wel_tutor_n30 <- sapply (Evaluatie_score_wel_tutor_n30, round, 3)
```

## Gebruik
Bij het toetsen van de hypothese of het gemiddelde van twee variabelen aan elkaar gelijk zijn kan de *t-toets* toegepast worden.  Wanneer de variabelen gepaard zijn, bijvoorbeeld bij een herhaalde meting, wordt de *Gepaarde t-toets*  toegepast. [^1]. Ook wanneer gematchte personen uit twee verschillende groepen, die veel overeenkomsten vertonen met elkaar, gekoppeld worden, kan een *Gepaarde t-toets* toegepast worden.

## Voorbeeld uit het onderwijs
De opleidingsdirecteur van de lerarenopleiding vraagt zich af of de studenten, nadat ze met hun tutor hebben gesproken, de lerarenopleiding een ander cijfer geven? Ze vraagt of de studenten een vragenlijst in wil vullen (T~0~) en nadat de studenten naar hun tutor geweest zijn (T~1~). 

H~0~: Het gemiddelde cijfer wat de studenten geven voor de opleiding is niet veranderd na een gesprek met hun tutor, µ~T0~ = µ~T1~. 

H~A~: Het gemiddelde cijfer wat de studenten geven voor de opleiding is veranderd na een gesprek met hun tutor, µ~T0~ ≠ µ~T1~. 

## Assumpties
### Normaliteit
De t-toets gaat er vanuit dat de data normaal verdeeld is, bij kleine steekproeven is dit vaker niet het geval. 

Controleer de data met deze stappen:  
1. Controleer visueel door het maken van een dataplot: een histogram of een boxplot.  
2. Toets daarna of de data normaal verdeeld is met de *Kolmogorov-Smirnov test* of bij een kleinere steekproef met de *Shapiro-Wilk test* [^2]. 

Wanneer uit bovenstaande tests blijkt dat de data niet normaal verdeeld is, dus aan de assumptie niet wordt voldaan, dan kan de t-toets niet gebruikt worden.

## Effect size
Om te bepalen of de gevonden p-waarde betekenisvol is kan een effectmaat berekend worden. Cohen's d berekent de sterkte van het effect van een onafhankelijke variabele op een afhankelijke variabele. Een indicatie om d te interpreteren is: d <= 0,3 is een klein effect, rond 0,5 is een gemiddeld effect en rond 0,8 is een groot effect.  

## Uitvoering in R
Voor de uitvoering in R is er data ingeladen met evaluatie-scores van studenten die geen tutorgesprek hebben gehad en van studenten die wel een tutorgesprek hebben gehad. 

### Normaliteit
<div class="col2">
```{r Assumptietest}
hist(Evaluatie_score_geen_tutor)
hist(Evaluatie_score_wel_tutor)
```
</div>

### {.tabset .tabset-fade .tabset.pills}
#### Lilliefors Test
```{r library nortest, warning=FALSE}
library(nortest)
```
<div class ="col2">
```` {r Lilliefors Test, warning=FALSE}
lillie.test(Evaluatie_score_geen_tutor)
lillie.test(Evaluatie_score_wel_tutor)
````
</div>

#### Shapiro-Wilk Test
<div class ="col2">
``` {r Shapiro-Wilk Test, warning=FALSE}
shapiro.test(Evaluatie_score_geen_tutor_n30)
shapiro.test(Evaluatie_score_wel_tutor_n30)
```
</div>

### Statistische toets in R

```{r statistische toets}
t.test(Evaluatie_score_wel_tutor, Evaluatie_score_geen_tutor, paired=TRUE)
```

## Toelichting op de output

## Rapportage

## Referenties
[^1]: van Geloven, N. (2016, May 25). T-toets [Wiki Statistiek Academisch Medisch Centrum]. Retrieved from: https://wikistatistiek.amc.nl/index.php/T-toets#one_sample_t-toets  
[^2]: Normaliteit. (14 jul 2014). [UvA Wiki Methodologiewinkel]. Retrieved from: https://wiki.uva.nl/methodologiewinkel/index.php/Normaliteit  
[^3]: The Statistics Tutor’s  Quick Guide to Commonly Used Statistical Tests  - Ellen Marshall, University of Sheffield 


---
title: "Ongepaarde t-toets"
author: "Irene van der Staaij & Megiel Kerkhoven"
date: "1 Oktober 2019"
output: 
  html_document:
    toc: TRUE
    toc_float: TRUE
    theme: united
---
<style>
  .col2 {
    columns: 2 200px;         /* number of columns and width in pixels*/
    -webkit-columns: 2 200px; /* chrome, safari */
    -moz-columns: 2 200px;    /* firefox */
  }
</style>

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

```{r aanmaken data, include=FALSE, echo=TRUE}
set.seed(1)

mu <- 6.3
sigma <- 1.2
Cijfers_gem_2010 <- rnorm(180, mu, sigma)
Cijfers_gem_2010 <- Cijfers_gem_2010 [Cijfers_gem_2010 <= 10 & Cijfers_gem_2010 >= 1]
Cijfers_gem_2010 <- sapply (Cijfers_gem_2010, round, 3)

mu <- 6.3
sigma <- 1.2
Cijfers_gem_2010_n30 <- rnorm(30, mu, sigma)
Cijfers_gem_2010_n30 <- Cijfers_gem_2010_n30 [Cijfers_gem_2010_n30 <= 10 & Cijfers_gem_2010_n30 >= 1]
Cijfers_gem_2010_n30 <- sapply (Cijfers_gem_2010_n30, round, 3)

mu <- 6.6
sigma <- 1.2
Cijfers_gem_2011 <- rnorm(160, mu, sigma)
Cijfers_gem_2011 <- Cijfers_gem_2011 [Cijfers_gem_2011 <= 10 & Cijfers_gem_2011 >= 1]
Cijfers_gem_2011 <- sapply (Cijfers_gem_2011, round, 3)

mu <- 6.6
sigma <- 1.2
Cijfers_gem_2011_n30 <- rnorm(30, mu, sigma)
Cijfers_gem_2011_n30 <- Cijfers_gem_2011 [Cijfers_gem_2011 <= 10 & Cijfers_gem_2011 >= 1]
Cijfers_gem_2011_n30 <- sapply (Cijfers_gem_2011, round, 3)
```

## Gebruik
Bij het toetsen van de hypothese of het gemiddelde van twee variabelen aan elkaar gelijk zijn kan de *t-toets* toegepast worden. Wanneer het de gemiddelden van twee aparte groepen betreft, kan de *Ongepaarde t-toets* toegepast worden [^1].

## Voorbeeld uit het onderwijs
Is het gemiddelde cijfer van de opleiding Statistiek op 1 februari gestegen na invoering van het BSA? De data is beschikbaar voor het cohort gestart in 2010 en voor het cohort gestart in 2011. Vanaf 2011 heeft de opleiding een Bindend Studieadvies (BSA) die de selectiviteit van het eerste jaar moet vergroten.

## Assumpties
### Normaliteit
De t-toets gaat er vanuit dat de data normaal verdeeld is, bij kleine steekproeven is dit vaker niet het geval. 

Controleer de data met deze stappen:  
1. Controleer visueel door het maken van een dataplot: een histogram of een boxplot.  
2. Toets daarna of de data normaal verdeeld is met de *Kolmogorov-Smirnov test* of bij een kleinere steekproef met de *Shapiro-Wilk test* [^2]. 

Wanneer uit bovenstaande tests blijkt dat de data niet normaal verdeeld is, dus aan de assumptie niet wordt voldaan, dan kan de t-toets niet gebruikt worden.

### homogeniteit van varianties 
De *Ongepaarde t-toets* gaat er ook van uit dat van beide groepen dezelfde variantie (spreiding) heeft, dit kan getoetst worden met de *Levene's Test (for equality of variance)*. Wanneer de test significant is de spreiding van de groepen verschillend en wordt de assumptie geschonden. 
# variantie (not)equal

## Uitvoering in R
Voor de uitvoering in R is er data ingeladen met gemiddelde cijfers van tweedejaarsstudenten bij de opleiding Statistiek. 

### Normaliteit
<div class="col2">
```{r Assumptietest}
hist(Cijfers_gem_2011)
hist(Cijfers_gem_2010)
```
</div>

### {.tabset .tabset-fade .tabset.pills}
#### Lilliefors Test

```{r library nortest, warning=FALSE}
library(nortest)
```
<div class="col2">
```` {r Lilliefors Test, warning=FALSE}
lillie.test(Cijfers_gem_2011)
lillie.test(Cijfers_gem_2010)
````
</div>

#### Shapiro-Wilk Test
<div class="col2">
``` {r Shapiro-Wilk Test, warning=FALSE}
shapiro.test(Cijfers_gem_2011_n30)
shapiro.test(Cijfers_gem_2010_n30)
```
</div>

### Ongepaarde t-toets
```{r statistische toets}
t.test(Cijfers_gem_2010, Cijfers_gem_2011)
```

## Toelichting op de output

## Rapportage

## Referenties
[^1]: van Geloven, N. (2016, May 25). T-toets [Wiki Statistiek Academisch Medisch Centrum]. Retrieved from: https://wikistatistiek.amc.nl/index.php/T-toets#one_sample_t-toets  

---
title: "07 Wilcoxon signed rank toets"
author: "Â© 2019, SURF Versnellingsagenda Statistisch Handboek Hoger Onderwijs"
date: "`r format(Sys.time(), '%d-%m-%y')`"
output: 
  html_document:
    toc: TRUE
    toc_float:
      collapsed: FALSE
    theme: united
---

<style>
  .col2 {
    columns: 2 200px;
    -webkit-columns: 2 200px;
    -moz-columns: 2 200px;
  }
</style>

``` {r versiegeschiedenis, include = FALSE, eval = FALSE}
## versie 0.1     3-9-19
```

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

```{r aanmaken data, include=FALSE, echo=TRUE}
RNGkind(sample.kind = "Rounding")
set.seed(1)
Mogelijkheden <- c(1616:7000)

p_t1 <- c(
  rep(0.4,  385),     #1616-2000
  rep(0.55, 400),     #2000-2400
  rep(0.7,  400),     #2401-2800
  rep(0.8,  400),     #2801-3200
  rep(0.65, 400),     #3201-3600
  rep(0.45, 400),     #3601-4000
  rep(0.2,  1000),    #4001-5000
  rep(0.1,  1000),    #5001-6000
  rep(0.01, 1000)     #6001-7000
)
Jaarlijks_inkomen_t1 <- replicate(307, 13*(sample(Mogelijkheden, 1, replace=TRUE, p_t1)))


Promotie_mogelijkheden <- c(0, 650, 1300, 2600, 6500, -650, -1300, -2600)
Weging               <- c(800, 400,  200,   100,  10,  200,   100,    50)
Opslag <- sample(Promotie_mogelijkheden, 307, replace=TRUE, Weging)
Jaarlijks_inkomen_t5 <- Jaarlijks_inkomen_t1 + Opslag
```

## 1 Toepassing

Notitie bij One-sample t-toets:   
De *Wilcoxon Signed Rank Test* maakt een rangschikking van de data. Hierdoor is de test verdelingsvrij en is nomaliteit geen assumptie. Ook zijn uitbijters minder van invloed op het eindresultaat. Toch wordt er voor deze test minder vaak gekozen, dit komt doordat bij het maken van een rankschikking de data informatie verliest. Als de data wel normaal verdeeld is heeft de *Wilcoxon Signed Rank Test* minder statistische power, dan wanneer de *one sample t-toets* uitgevoerd zou worden. 
 
 
## 2 Onderwijscasus

## 3 Assumpties

## 4 Uitvoering in R
Er is data ingeladen met jaarlijkse bruto inkomens van alumni van de Academie Mens & Maatschappij genaamd `Jaarlijks_inkomen`. De directeur wil kijken hoe het inkomen van zijn alumni zich ontwikkeld 4 jaar nadat zij afgestudeerd zijn.

### De data bekijken
Bekijk de data door het gemiddelde, de standaardafwijking, de mediaan en een histogram op te vragen.

<div class="col2">
```{r, data bekijken, collapse=TRUE}
mean(Jaarlijks_inkomen_t1)
sd(Jaarlijks_inkomen_t1)
median(Jaarlijks_inkomen_t1)
hist(Jaarlijks_inkomen_t1)
mean(Jaarlijks_inkomen_t5)
sd(Jaarlijks_inkomen_t5)
median(Jaarlijks_inkomen_t5)
hist(Jaarlijks_inkomen_t5)
```
</div>

### Normaliteit testen
Test of de data normaal verdeeld is met een lilliefors-test
```{r library nortest, warning=FALSE}
library(nortest)
```
<div class="col2">
```{r normaliteitstest, warning=FALSE}
lillie.test(Jaarlijks_inkomen_t1)
lillie.test(Jaarlijks_inkomen_t5)
```
</div>

### Wilcoxon signed rank toets
Voer een Wilcoxon signed rank toets uit met `paired=TRUE`.
```{r wilcox test}
wilcox.test(Jaarlijks_inkomen_t5, Jaarlijks_inkomen_t1, paired=TRUE, alternative = "greater")
```

## Toelichting op de output

## 5 Rapportage


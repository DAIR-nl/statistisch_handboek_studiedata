---
title: "Kruskal Wallis toets"
output:
  html_document:
    toc: TRUE
    toc_float:
      collapsed: FALSE
    number_sections: TRUE
    theme: lumen
---

<!-- ## CLOSEDBLOK: Functies.R -->
```{r functies, include = TRUE, echo = FALSE, results='asis', warning=FALSE, message=FALSE}
library(here)
if (!exists("Substitute_var")) {
  ## Installeer packages en functies
  source(paste0(here::here(), "/99. Functies en Libraries/00. Voorbereidingen.R"), echo = FALSE)
}
```
<!-- ## /CLOSEDBLOK: Functies.R -->

<style>
`r htmltools::includeHTML(paste0(here::here(),"/01. Includes/css/Stylesheet_SHHO.css"))`
</style>

<!-- ## CLOSEDBLOK: Header.R -->
```{r header, include = TRUE, echo = FALSE, results='asis', code =  readLines(paste0(here::here(),"/01. Includes/code/Header.R"))} 
```
<!-- ## /CLOSEDBLOK: Header.R -->

<!-- ## CLOSEDBLOK: Reticulate.R -->
```{r reticulate, include = TRUE, echo = FALSE, warning=FALSE, message=FALSE}
library(reticulate)
knitr::knit_engines$set(python = reticulate::eng_python)
```
<!-- ## /CLOSEDBLOK: Reticulate.R -->

<!-- ## OPENBLOK: Data-aanmaken.py -->
```{r aanmaken data, include=FALSE, echo=TRUE}
source(paste0(here::here(),"/01. Includes/data/10.R"))
```
<!-- ## /OPENBLOK: Data-aanmaken.py -->

<!-- ## TEKSTBLOK: Data-bekijken.py -->
Gebruik `<dataframe>.head()` en `<dataframe>.tail()` om de structuur van de data te bekijken.
<!-- ## /TEKSTBLOK: Data-bekijken.py -->

<!-- ## OPENBLOK: Data-bekijken.py -->
```{python, include=FALSE}
import pandas as pd
dfResultaten_Arbeidsrecht = pd.DataFrame(r.Resultaten_Arbeidsrecht)
```

```{python data bekijken-1, collapse = TRUE}
## Eerste 6 observaties
print(dfResultaten_Arbeidsrecht.head(6))
```

```{python data bekijken-2, collapse = TRUE}
## Laatste 6 observaties
print(dfResultaten_Arbeidsrecht.tail(6))
```
<!-- ## /OPENBLOK: Data-bekijken.py -->

<!-- ## TEKSTBLOK: Data-bekijken2.py -->
De dataset bevat data van studenten van verschillende vooropleidingen. Gebruik `<data.frame>.<kolomnaam>.unique()` om te onderzoeken welke opleidingen er in de data aanwezig zijn. 
<!-- ## /TEKSTBLOK: Data-bekijken2.py -->

<!-- ## OPENBLOK: Data-bekijken-2.py -->
```{python data bekijken 2}
## Opleidingen in de data aanwezig
print(dfResultaten_Arbeidsrecht.Vooropleiding.unique())
```
<!-- ## /OPENBLOK: Data-bekijken-2.py -->

<!-- ## TEKSTBLOK: Data-bekijken.py -->
Om meer inzicht te krijgen in de data, inspecteer de groepen met `size()` en `quantile()`. Groepeer hiervoor eerst met `<dataframe>.groupby([<column>])`.
<!-- ## /TEKSTBLOK: Data-bekijken.py -->

<!-- ## OPENBLOK: Data-beschrijven.py -->
```{python}
print(dfResultaten_Arbeidsrecht.groupby(['Vooropleiding']).size())
```

```{python}
print(dfResultaten_Arbeidsrecht.groupby(['Vooropleiding']).quantile([0.25, 0.5, 0.75]))
```
<!-- ## /OPENBLOK: Data-beschrijven.py -->

<!-- ## OPENBLOK: Boxplot.py -->
```{python}
import matplotlib.pyplot as plt
box = dfResultaten_Arbeidsrecht.boxplot(column='EC_Jaar1', by='Vooropleiding')
title = plt.title("Aantal EC per vooropleiding van de Master Arbeidsrecht")
plt.show()
```
<!-- ## /OPENBLOK: Boxplot.py -->

<!-- ## TEKSTBLOK: Kruskal-Wallis-test.R -->
Gebruik `stats.kruskal()` om de Kruskal-Wallis test uit te voeren. Eerst moet de data worden gesplitst.
<!-- ## /TEKSTBLOK: Kruskal-Wallis-test.R -->

<!-- ## OPENBLOK: Kruskal-Wallis-test.py -->
```{python}
EC_FSC = dfResultaten_Arbeidsrecht[dfResultaten_Arbeidsrecht['Vooropleiding'] == "Fiscaal Recht"]["EC_Jaar1"]
EC_NTR = dfResultaten_Arbeidsrecht[dfResultaten_Arbeidsrecht['Vooropleiding'] == "Notarieel Recht"]["EC_Jaar1"]
EC_PRE = dfResultaten_Arbeidsrecht[dfResultaten_Arbeidsrecht['Vooropleiding'] == "pre-master"]["EC_Jaar1"]
EC_REC = dfResultaten_Arbeidsrecht[dfResultaten_Arbeidsrecht['Vooropleiding'] == "Rechtsgeleerdheid"]["EC_Jaar1"]
```

```{python}
import scipy.stats as stats
print(stats.kruskal(EC_FSC, EC_NTR, EC_PRE, EC_REC))
```
<!-- ## /OPENBLOK: Kruskal-Wallis-test.py -->

<!-- ## TEKSTBLOK: Mann-Whitney-U-test-->
Gebruik de *Mann-Whitney U toets* als post-hoc toets om te bepalen w√©lke groepen significant verschillen. De *Mann-Whitney U toets* wordt ook wel de *Wilcoxon rank-sum toets* genoemd.[^10] Gebruik de functie `pg.mwu()`. 
<!-- ## /TEKSTBLOK: Mann-Whitney-U-test-->

<!-- ## OPENBLOK: Mann-Whitney-U-test.py-->
```{python}
import pingouin as pg
```

```{python}
# Correctie kan gedaan worden door p-value x aantal Hypotheses te doen (= 6)
pg.mwu(EC_PRE, EC_NTR)
```
<!-- ## /OPENBLOK: Mann-Whitney-U-test.py-->
